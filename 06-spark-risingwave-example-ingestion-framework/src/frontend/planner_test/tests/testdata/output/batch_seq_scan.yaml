# This file is automatically generated. See `src/frontend/planner_test/README.md` for more information.
- id: batch_seq_scan_local
  name: Test that BatchSeqScan pushed to compute node in local mode
  sql: |
    create table t (id int);
    create materialized view v as select count(*) cnt from t;
    SET QUERY_MODE TO distributed;
    select * from v cross join (select count(*) from t) T;
  batch_plan: |-
    BatchExchange { order: [], dist: Single }
    └─BatchNestedLoopJoin { type: Inner, predicate: true, output: all }
      ├─BatchScan { table: v, columns: [v.cnt], distribution: Single }
      └─BatchSimpleAgg { aggs: [sum0(count)] }
        └─BatchExchange { order: [], dist: Single }
          └─BatchSimpleAgg { aggs: [count] }
            └─BatchScan { table: t, columns: [], distribution: SomeShard }
  batch_local_plan: |-
    BatchNestedLoopJoin { type: Inner, predicate: true, output: all }
    ├─BatchExchange { order: [], dist: Single }
    │ └─BatchScan { table: v, columns: [v.cnt], distribution: SomeShard }
    └─BatchSimpleAgg { aggs: [count] }
      └─BatchExchange { order: [], dist: Single }
        └─BatchScan { table: t, columns: [], distribution: SomeShard }
